<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>MAX LEVEL VIBRATOR</title>
    <style>
        body { 
            font-family: 'Arial Black', sans-serif; 
            text-align: center; 
            background: #000; 
            color: #ff0000; 
            overflow: hidden;
            display: flex; flex-direction: column; justify-content: center; height: 100vh;
        }
        /* 画面を激しく揺らすアニメーション */
        @keyframes shake {
            0% { transform: translate(0, 0); }
            25% { transform: translate(5px, -5px); }
            50% { transform: translate(-5px, 5px); }
            75% { transform: translate(5px, 5px); }
            100% { transform: translate(0, 0); }
        }
        .vibrating { animation: shake 0.05s infinite; background: #200; }

        h1 { font-size: 3rem; text-shadow: 0 0 20px #f00; }
        button { 
            padding: 30px 60px; font-size: 30px; font-weight: bold;
            cursor: pointer; background: #ff0000; border: none; color: #000; 
            border-radius: 50px; box-shadow: 0 0 30px #f00; transition: 0.2s;
        }
        button:active { transform: scale(0.9); }
        .warning { color: #ffcc00; margin-top: 20px; font-weight: bold; }
    </style>
</head>
<body>

    <h1>MAX LEVEL</h1>
    <p>矩形波(Square Wave)による最大振幅</p>
    
    <div>
        <button id="toggleBtn">OVERDRIVE START</button>
    </div>

    <div class="warning">
        ⚠️ WARNING: スピーカーの破損に注意してください
    </div>

    <script>
        let audioCtx;
        let oscillator;
        let gainNode;
        let isPlaying = false;

        const btn = document.getElementById('toggleBtn');

        btn.addEventListener('click', () => {
            if (!audioCtx) {
                audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            }

            if (!isPlaying) {
                oscillator = audioCtx.createOscillator();
                gainNode = audioCtx.createGain();

                // 矩形波 (Square Wave) は最も振動が激しい波形です
                oscillator.type = 'square'; 
                // 35Hz付近が物理的な振動と音圧のバランスが最強です
                oscillator.frequency.setValueAtTime(35, audioCtx.currentTime);

                // 利得(Gain)を1.0（最大）に設定
                gainNode.gain.setValueAtTime(1.0, audioCtx.currentTime);

                oscillator.connect(gainNode);
                gainNode.connect(audioCtx.destination);

                oscillator.start();
                document.body.classList.add('vibrating');
                btn.textContent = "STOP";
                isPlaying = true;
            } else {
                oscillator.stop();
                document.body.classList.remove('vibrating');
                btn.textContent = "OVERDRIVE START";
                isPlaying = false;
            }
        });
    </script>
</body>
</html>
